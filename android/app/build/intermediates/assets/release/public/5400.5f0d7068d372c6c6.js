(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5400],{5961:(q,L,$)=>{"use strict";$.d(L,{GW:()=>v,dk:()=>E,oK:()=>Z});var Z=function(p){return p.Prompt="PROMPT",p.Camera="CAMERA",p.Photos="PHOTOS",p}(Z||{}),v=function(p){return p.Rear="REAR",p.Front="FRONT",p}(v||{}),E=function(p){return p.Uri="uri",p.Base64="base64",p.DataUrl="dataUrl",p}(E||{})},5346:(q,L,$)=>{"use strict";$.d(L,{ez:()=>v,tP:()=>Z});var Z=function(y){return y.Documents="DOCUMENTS",y.Data="DATA",y.Library="LIBRARY",y.Cache="CACHE",y.External="EXTERNAL",y.ExternalStorage="EXTERNAL_STORAGE",y}(Z||{}),v=function(y){return y.UTF8="utf8",y.ASCII="ascii",y.UTF16="utf16",y}(v||{})},3404:(q,L,$)=>{"use strict";$.d(L,{H:()=>W,b:()=>_e,c:()=>fe,f:()=>Le,g:()=>X,h:()=>Q,p:()=>Ee,r:()=>qe});var Z=$(5861);let E,p,y=!1,A=!1;const j={},_=e=>"object"==(e=typeof e)||"function"===e;function H(e){var t,s,o;return null!==(o=null===(s=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===s?void 0:s.getAttribute("content"))&&void 0!==o?o:void 0}const Q=(e,t,...s)=>{let o=null,i=!1,a=!1;const r=[],d=g=>{for(let T=0;T<g.length;T++)o=g[T],Array.isArray(o)?d(o):null!=o&&"boolean"!=typeof o&&((i="function"!=typeof e&&!_(o))&&(o=String(o)),i&&a?r[r.length-1].$text$+=o:r.push(i?k(null,o):o),a=i)};if(d(s),t){const g=t.className||t.class;g&&(t.class="object"!=typeof g?g:Object.keys(g).filter(T=>g[T]).join(" "))}const u=k(e,null);return u.$attrs$=t,r.length>0&&(u.$children$=r),u},k=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),W={},X=e=>J(e).$hostElement$,fe=(e,t,s)=>{const o=X(e);return{emit:i=>V(o,t,{bubbles:!!(4&s),composed:!!(2&s),cancelable:!!(1&s),detail:i})}},V=(e,t,s)=>{const o=S.ce(t,s);return e.dispatchEvent(o),o},ee=new WeakMap,te=(e,t)=>"sc-"+e.$tagName$,ne=(e,t,s,o,i,a)=>{if(s!==o){let r=Me(e,t),d=t.toLowerCase();if("class"===t){const u=e.classList,g=ve(s),T=ve(o);u.remove(...g.filter(C=>C&&!T.includes(C))),u.add(...T.filter(C=>C&&!g.includes(C)))}else if("style"===t){for(const u in s)(!o||null==o[u])&&(u.includes("-")?e.style.removeProperty(u):e.style[u]="");for(const u in o)(!s||o[u]!==s[u])&&(u.includes("-")?e.style.setProperty(u,o[u]):e.style[u]=o[u])}else if("ref"===t)o&&o(e);else if(r||"o"!==t[0]||"n"!==t[1]){const u=_(o);if((r||u&&null!==o)&&!i)try{if(e.tagName.includes("-"))e[t]=o;else{const g=null==o?"":o;"list"===t?r=!1:(null==s||e[t]!=g)&&(e[t]=g)}}catch{}null==o||!1===o?(!1!==o||""===e.getAttribute(t))&&e.removeAttribute(t):(!r||4&a||i)&&!u&&e.setAttribute(t,o=!0===o?"":o)}else t="-"===t[2]?t.slice(3):Me(re,d)?d.slice(2):d[2]+t.slice(3),s&&S.rel(e,t,s,!1),o&&S.ael(e,t,o,!1)}},he=/\s/,ve=e=>e?e.split(he):[],oe=(e,t,s,o)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||j,r=t.$attrs$||j;for(o in a)o in r||ne(i,o,a[o],void 0,s,t.$flags$);for(o in r)ne(i,o,a[o],r[o],s,t.$flags$)},z=(e,t,s,o)=>{const i=t.$children$[s];let r,d,a=0;if(null!==i.$text$)r=i.$elm$=I.createTextNode(i.$text$);else{if(y||(y="svg"===i.$tag$),r=i.$elm$=I.createElementNS(y?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),y&&"foreignObject"===i.$tag$&&(y=!1),oe(null,i,y),(e=>null!=e)(E)&&r["s-si"]!==E&&r.classList.add(r["s-si"]=E),i.$children$)for(a=0;a<i.$children$.length;++a)d=z(e,i,a),d&&r.appendChild(d);"svg"===i.$tag$?y=!1:"foreignObject"===r.tagName&&(y=!0)}return r},se=(e,t,s,o,i,a)=>{let d,r=e;for(r.shadowRoot&&r.tagName===p&&(r=r.shadowRoot);i<=a;++i)o[i]&&(d=z(null,s,i),d&&(o[i].$elm$=d,r.insertBefore(d,t)))},f=(e,t,s)=>{for(let o=t;o<=s;++o){const i=e[o];if(i){const a=i.$elm$;c(i),a&&a.remove()}}},x=(e,t)=>e.$tag$===t.$tag$,l=(e,t)=>{const s=t.$elm$=e.$elm$,o=e.$children$,i=t.$children$,a=t.$tag$,r=t.$text$;null===r?(y="svg"===a||"foreignObject"!==a&&y,oe(e,t,y),null!==o&&null!==i?((e,t,s,o)=>{let Y,i=0,a=0,r=t.length-1,d=t[0],u=t[r],g=o.length-1,T=o[0],C=o[g];for(;i<=r&&a<=g;)null==d?d=t[++i]:null==u?u=t[--r]:null==T?T=o[++a]:null==C?C=o[--g]:x(d,T)?(l(d,T),d=t[++i],T=o[++a]):x(u,C)?(l(u,C),u=t[--r],C=o[--g]):x(d,C)?(l(d,C),e.insertBefore(d.$elm$,u.$elm$.nextSibling),d=t[++i],C=o[--g]):x(u,T)?(l(u,T),e.insertBefore(u.$elm$,d.$elm$),u=t[--r],T=o[++a]):(Y=z(t&&t[a],s,a),T=o[++a],Y&&d.$elm$.parentNode.insertBefore(Y,d.$elm$));i>r?se(e,null==o[g+1]?null:o[g+1].$elm$,s,o,a,g):a>g&&f(t,i,r)})(s,o,t,i):null!==i?(null!==e.$text$&&(s.textContent=""),se(s,null,t,i,0,i.length-1)):null!==o&&f(o,0,o.length-1),y&&"svg"===a&&(y=!1)):e.$text$!==r&&(s.data=r)},c=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(c)},m=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(s=>e.$onRenderResolve$=s))},b=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return m(e,e.$ancestorComponent$),We(()=>M(e,t));e.$flags$|=512},M=(e,t)=>{const o=e.$lazyInstance$;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([a,r])=>ye(o,a,r)),e.$queuedListeners$=void 0)),U(void 0,()=>O(e,o,t))},U=(e,t)=>w(e)?e.then(t):t(),w=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,O=function(){var e=(0,Z.Z)(function*(t,s,o){var i;const a=t.$hostElement$,d=a["s-rc"];o&&(e=>{const t=e.$cmpMeta$,s=e.$hostElement$,o=t.$flags$,a=((e,t,s,o)=>{var i;let a=te(t);const r=ie.get(a);if(e=11===e.nodeType?e:I,r)if("string"==typeof r){let u,d=ee.get(e=e.head||e);if(d||ee.set(e,d=new Set),!d.has(a)){{u=I.createElement("style"),u.innerHTML=r;const g=null!==(i=S.$nonce$)&&void 0!==i?i:H(I);null!=g&&u.setAttribute("nonce",g),e.insertBefore(u,e.querySelector("link"))}d&&d.add(a)}}else e.adoptedStyleSheets.includes(r)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,r]);return a})(s.shadowRoot?s.shadowRoot:s.getRootNode(),t);10&o&&(s["s-sc"]=a,s.classList.add(a+"-h"))})(t);Ie(t,s),d&&(d.map(g=>g()),a["s-rc"]=void 0);{const g=null!==(i=a["s-p"])&&void 0!==i?i:[],T=()=>Oe(t);0===g.length?T():(Promise.all(g).then(T),t.$flags$|=4,g.length=0)}});return function(s,o,i){return e.apply(this,arguments)}}(),Ie=(e,t,s)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const s=e.$hostElement$,o=e.$vnode$||k(null,null),i=(e=>e&&e.$tag$===W)(t)?t:Q(null,null,t);p=s.tagName,i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=o.$elm$=s.shadowRoot||s,E=s["s-sc"],l(o,i)})(e,t)}catch(o){F(o,e.$hostElement$)}return null},Oe=e=>{const s=e.$hostElement$,i=e.$lazyInstance$,a=e.$ancestorComponent$;64&e.$flags$||(e.$flags$|=64,Ce(s),ye(i,"componentDidLoad"),e.$onReadyResolve$(s),a||Se()),e.$onInstanceResolve$(s),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&be(()=>b(e,!1)),e.$flags$&=-517},Le=e=>{{const t=J(e),s=t.$hostElement$.isConnected;return s&&2==(18&t.$flags$)&&b(t,!1),s}},Se=e=>{Ce(I.documentElement),be(()=>V(re,"appload",{detail:{namespace:"ionicpwaelements"}}))},ye=(e,t,s)=>{if(e&&e[t])try{return e[t](s)}catch(o){F(o)}},Ce=e=>e.classList.add("hydrated"),Ze=(e,t,s)=>{if(t.$members$){const o=Object.entries(t.$members$),i=e.prototype;if(o.map(([a,[r]])=>{31&r||2&s&&32&r?Object.defineProperty(i,a,{get(){return((e,t)=>J(this).$instanceValues$.get(t))(0,a)},set(d){((e,t,s,o)=>{const i=J(e),a=i.$instanceValues$.get(t),r=i.$flags$,d=i.$lazyInstance$;s=((e,t)=>null==e||_(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e)(s,o.$members$[t][0]);const u=Number.isNaN(a)&&Number.isNaN(s);(!(8&r)||void 0===a)&&s!==a&&!u&&(i.$instanceValues$.set(t,s),d&&2==(18&r)&&b(i,!1))})(this,a,d,t)},configurable:!0,enumerable:!0}):1&s&&64&r&&Object.defineProperty(i,a,{value(...d){const u=J(this);return u.$onInstancePromise$.then(()=>u.$lazyInstance$[a](...d))}})}),1&s){const a=new Map;i.attributeChangedCallback=function(r,d,u){S.jmp(()=>{const g=a.get(r);if(this.hasOwnProperty(g))u=this[g],delete this[g];else if(i.hasOwnProperty(g)&&"number"==typeof this[g]&&this[g]==u)return;this[g]=(null!==u||"boolean"!=typeof this[g])&&u})},e.observedAttributes=o.filter(([r,d])=>15&d[0]).map(([r,d])=>{const u=d[1]||r;return a.set(u,r),u})}}return e},Be=function(){var e=(0,Z.Z)(function*(t,s,o,i,a){if(!(32&s.$flags$)){s.$flags$|=32;{if((a=Qe(o)).then){const g=()=>{};a=yield a,g()}a.isProxied||(Ze(a,o,2),a.isProxied=!0);const u=()=>{};s.$flags$|=8;try{new a(s)}catch(g){F(g)}s.$flags$&=-9,u()}if(a.style){let u=a.style;const g=te(o);if(!ie.has(g)){const T=()=>{};((e,t,s)=>{let o=ie.get(e);ze&&s?(o=o||new CSSStyleSheet,"string"==typeof o?o=t:o.replaceSync(t)):o=t,ie.set(e,o)})(g,u,!!(1&o.$flags$)),T()}}}const r=s.$ancestorComponent$,d=()=>b(s,!0);r&&r["s-rc"]?r["s-rc"].push(d):d()});return function(s,o,i,a,r){return e.apply(this,arguments)}}(),_e=(e,t={})=>{var s;const i=[],a=t.exclude||[],r=re.customElements,d=I.head,u=d.querySelector("meta[charset]"),g=I.createElement("style"),T=[];let C,Y=!0;Object.assign(S,t),S.$resourcesUrl$=new URL(t.resourcesUrl||"./",I.baseURI).href,e.map(B=>{B[1].map(D=>{const N={$flags$:D[0],$tagName$:D[1],$members$:D[2],$listeners$:D[3]};N.$members$=D[2],N.$listeners$=D[3];const ae=N.$tagName$,Ke=class extends HTMLElement{constructor(le){super(le),He(le=this,N),1&N.$flags$&&le.attachShadow({mode:"open"})}connectedCallback(){C&&(clearTimeout(C),C=null),Y?T.push(this):S.jmp(()=>(e=>{if(!(1&S.$flags$)){const t=J(e),s=t.$cmpMeta$,o=()=>{};if(1&t.$flags$)Ae(e,t,s.$listeners$);else{t.$flags$|=1;{let i=e;for(;i=i.parentNode||i.host;)if(i["s-p"]){m(t,t.$ancestorComponent$=i);break}}s.$members$&&Object.entries(s.$members$).map(([i,[a]])=>{if(31&a&&e.hasOwnProperty(i)){const r=e[i];delete e[i],e[i]=r}}),Be(e,t,s)}o()}})(this))}disconnectedCallback(){S.jmp(()=>(e=>{if(!(1&S.$flags$)){const t=J(this),s=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(o=>o()),t.$rmListeners$=void 0),ye(s,"disconnectedCallback")}})())}componentOnReady(){return J(this).$onReadyPromise$}};N.$lazyBundleId$=B[0],!a.includes(ae)&&!r.get(ae)&&(i.push(ae),r.define(ae,Ze(Ke,N,1)))})});{g.innerHTML=i+"{visibility:hidden}.hydrated{visibility:inherit}",g.setAttribute("data-styles","");const B=null!==(s=S.$nonce$)&&void 0!==s?s:H(I);null!=B&&g.setAttribute("nonce",B),d.insertBefore(g,u?u.nextSibling:d.firstChild)}Y=!1,T.length?T.map(B=>B.connectedCallback()):S.jmp(()=>C=setTimeout(Se,30))},Ae=(e,t,s,o)=>{s&&s.map(([i,a,r])=>{const d=Ye(e,i),u=ke(t,r),g=De(i);S.ael(d,a,u,g),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>S.rel(d,a,u,g))})},ke=(e,t)=>s=>{try{256&e.$flags$?e.$lazyInstance$[t](s):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,s])}catch(o){F(o)}},Ye=(e,t)=>16&t?I.body:e,De=e=>0!=(2&e),Pe=new WeakMap,J=e=>Pe.get(e),qe=(e,t)=>Pe.set(t.$lazyInstance$=e,t),He=(e,t)=>{const s={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return s.$onInstancePromise$=new Promise(o=>s.$onInstanceResolve$=o),s.$onReadyPromise$=new Promise(o=>s.$onReadyResolve$=o),e["s-p"]=[],e["s-rc"]=[],Ae(e,s,t.$listeners$),Pe.set(e,s)},Me=(e,t)=>t in e,F=(e,t)=>(0,console.error)(e,t),Te=new Map,Qe=(e,t,s)=>{const o=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$,a=Te.get(i);if(a)return a[o];if(!s||!BUILD.hotModuleReplacement){const r=d=>(Te.set(i,d),d[o]);switch(i){case"pwa-action-sheet":return $.e(1120).then($.bind($,1120)).then(r,F);case"pwa-camera-modal":return $.e(7324).then($.bind($,7324)).then(r,F);case"pwa-toast":return $.e(2813).then($.bind($,2813)).then(r,F);case"pwa-camera-modal-instance":return $.e(4995).then($.bind($,4995)).then(r,F);case"pwa-camera":return $.e(6390).then($.bind($,6390)).then(r,F)}}return $(5899)(`./${i}.entry.js`).then(r=>(Te.set(i,r),r[o]),F)},ie=new Map,re=typeof window<"u"?window:{},I=re.document||{head:{}},S={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,s,o)=>e.addEventListener(t,s,o),rel:(e,t,s,o)=>e.removeEventListener(t,s,o),ce:(e,t)=>new CustomEvent(e,t)},Ee=e=>Promise.resolve(e),ze=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ue=[],Re=[],Ge=(e,t)=>s=>{e.push(s),A||(A=!0,t&&4&S.$flags$?be(xe):S.raf(xe))},Fe=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(s){F(s)}e.length=0},xe=()=>{Fe(Ue),Fe(Re),(A=Ue.length>0)&&S.raf(xe)},be=e=>Ee().then(e),We=Ge(Re,!0)},5400:(q,L,$)=>{"use strict";$.r(L),$.d(L,{RegisterPageModule:()=>se});var Z=$(6814),v=$(95),E=$(9669),p=$(6728),y=$(467),A=$(5861),R=$(3404);var j=$(2726);const de=(0,j.fo)("Geolocation",{web:()=>$.e(579).then($.bind($,579)).then(f=>new f.GeolocationWeb)});var n=$(6242),G=$(5961);const _=(0,j.fo)("Camera",{web:()=>$.e(6468).then($.bind($,6468)).then(f=>new f.CameraWeb)});var H=$(5346);const Q=(0,j.fo)("Filesystem",{web:()=>$.e(4522).then($.bind($,4522)).then(f=>new f.FilesystemWeb)});var k=$(1273);let W=(()=>{var f;class P{constructor(){this.PHOTO_STORAGE="photos",this.convertBlobToBase64=l=>new Promise((c,h)=>{const m=new FileReader;m.onerror=h,m.onload=()=>{c(m.result)},m.readAsDataURL(l)})}addNewToGallery(){var l=this;return(0,A.Z)(function*(){if("granted"==(yield _.checkPermissions()).camera){const c=yield _.getPhoto({resultType:G.dk.Uri,quality:100,source:G.oK.Camera}),h=yield l.savePicture(c);l.photo=h,k.u.set({key:l.PHOTO_STORAGE,value:JSON.stringify(l.photo)})}})()}savePicture(l){var c=this;return(0,A.Z)(function*(){const h=yield c.readAsBase64(l),m=Date.now()+".jpeg";return yield Q.writeFile({path:m,data:h,directory:H.tP.Data}),{filepath:m,webviewPath:l.webPath}})()}readAsBase64(l){var c=this;return(0,A.Z)(function*(){const m=yield(yield fetch(l.webPath)).blob();return yield c.convertBlobToBase64(m)})()}loadSaved(){var l=this;return(0,A.Z)(function*(){const{value:c}=yield k.u.get({key:l.PHOTO_STORAGE}),h=c?JSON.parse(c):void 0;if(h){const m=yield Q.readFile({path:h.filepath,directory:H.tP.Data});return h.webviewPath=`data:image/jpeg;base64,${m.data}`,h}})()}}return(f=P).\u0275fac=function(l){return new(l||f)},f.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),P})();var ge=$(3076),K=$(4414);function X(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," El nombre es requerido. "),n.qZA())}function fe(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," Por favor, introduce un correo electr\xf3nico v\xe1lido. "),n.qZA())}function V(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," La contrase\xf1a debe tener entre 4 y 20 caracteres. "),n.qZA())}function ee(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," Por favor, introduce una carrera. "),n.qZA())}function $e(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," Por favor, introduce un RUT v\xe1lido. "),n.qZA())}function me(f,P){if(1&f&&(n.TgZ(0,"ion-select-option",24),n._uU(1),n.qZA()),2&f){const x=P.$implicit;n.Q6J("value",x.id),n.xp6(1),n.Oqu(x.nombre)}}function pe(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," Por favor, selecciona una regi\xf3n. "),n.qZA())}function te(f,P){if(1&f&&(n.TgZ(0,"ion-select-option",24),n._uU(1),n.qZA()),2&f){const x=P.$implicit;n.Q6J("value",x.id),n.xp6(1),n.Oqu(x.nombre)}}function ne(f,P){1&f&&(n.TgZ(0,"ion-text",23),n._uU(1," Por favor, selecciona una comuna. "),n.qZA())}function he(f,P){if(1&f&&(n.TgZ(0,"ion-item",17)(1,"ion-label",18),n._uU(2,"Comuna"),n.qZA(),n.TgZ(3,"ion-select",25),n.YNc(4,te,2,2,"ion-select-option",20),n.qZA(),n._UZ(5,"br"),n.YNc(6,ne,2,0,"ion-text",6),n.qZA()),2&f){const x=n.oxw();let l;n.xp6(4),n.Q6J("ngForOf",x.comunas),n.xp6(2),n.Q6J("ngIf",(null==(l=x.registerForm.get("idComuna"))?null:l.invalid)&&(null==(l=x.registerForm.get("idComuna"))?null:l.touched))}}const oe=[{path:"",component:(()=>{var f;class P{constructor(l,c,h,m,b,M,U){this.photoService=l,this.router=c,this.userService=h,this.formBuilder=m,this.alertController=b,this.apiUbication=M,this.navCtrl=U,this.usuario="",this.nombre="",this.password="",this.regionSeleccionada="",this.comunaSeleccionada="",this.regiones=[],this.comunas=[],this.idRegion=0,this.idComuna=0,this.seleccionComuna=!0,this.mostrarBoton=!1,this.nombre="",this.email="",this.password="",this.carrera="",this.rut="",this.fechaNacimiento="",this.photo="",this.regionSeleccionada="",this.comunaSeleccionada="",this.idRegion=0,this.idComuna=0,this.registerForm=this.formBuilder.group({email:["",[v.kI.required,v.kI.email]],password:["",[v.kI.required,v.kI.minLength(4),v.kI.maxLength(20)]],nombre:["",v.kI.required],rut:["",[v.kI.required,v.kI.minLength(9),v.kI.maxLength(9)]],fechaNacimiento:["",v.kI.required],carrera:["",v.kI.required],photo:["",v.kI.required],idRegion:["",v.kI.required],idComuna:["",v.kI.required]})}ngOnInit(){var l=this;return(0,A.Z)(function*(){var c;throw l.cargarRegion(),null===(c=l.registerForm)||void 0===c||null===(c=c.get("idRegion"))||void 0===c||c.valueChanges.subscribe(m=>{m&&(l.idRegion=m,l.cargarComuna())}),((f,P)=>{typeof window>"u"?Promise.resolve():(0,R.p)().then(()=>(0,R.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],P))})(window),l.photoService.loadSaved().then(m=>{var b;l.photo=m?m.webviewPath:void 0,null===(b=l.registerForm)||void 0===b||null===(b=b.get("photo"))||void 0===b||b.setValue(l.photo)}),localStorage.getItem("usuario")&&(l.mostrarBoton=!0),new Error("Method not implemented.")})()}cargarRegion(){var l=this;return(0,A.Z)(function*(){const c=yield l.apiUbication.getRegion();l.regiones=c.data})()}cargarComuna(){var l=this;return(0,A.Z)(function*(){l.seleccionComuna=!1;const c=yield l.apiUbication.getComuna(l.idRegion);l.comunas=c.data,console.log("Comunas cargadas:",l.comunas)})()}addPhotoToGallery(){this.photoService.addNewToGallery().then(l=>{})}getCurrentLocation(){return(0,A.Z)(function*(){const l=yield de.getCurrentPosition();return{latitude:l.coords.latitude,longitude:l.coords.longitude}})()}guardar(){var l=this;return(0,A.Z)(function*(){var c=l.registerForm.value;if(l.registerForm.valid){var h,m;l.alertController.create({header:"Registro exitoso",message:"\xa1Felicitaciones! Ya est\xe1s registrado.",buttons:["OK"]}).then(O=>O.present());const M=yield l.getCurrentLocation(),U=null===(h=l.regiones.find(O=>O.id===c.idRegion))||void 0===h?void 0:h.nombre,w=null===(m=l.comunas.find(O=>O.id===c.idComuna))||void 0===m?void 0:m.nombre;var b={nombre:c.nombre,email:c.email,password:c.password,carrera:c.carrera,rut:c.rut,fechaNacimiento:c.fechaNacimiento,photo:c.photo,region:U,comuna:w,latitud:M.latitude,longitud:M.longitude};console.log(c.region),l.userService.guardarUsuario(b),console.log(b),l.router.navigateByUrl("home")}else l.alertController.create({header:"Ups",message:"Completa correctamente todos los campos",buttons:["Aceptar"]}).then(M=>M.present()),Object.keys(l.registerForm.controls).forEach(M=>{const U=l.registerForm.get(M);U&&U.invalid&&console.log(`Control '${M}' no es v\xe1lido. Errores:`,U.errors)})})()}goBack(){this.navCtrl.back()}}return(f=P).\u0275fac=function(l){return new(l||f)(n.Y36(W),n.Y36(y.F0),n.Y36(ge.K),n.Y36(v.qu),n.Y36(K.Br),n.Y36(E.f),n.Y36(K.SH))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-register"]],decls:55,vars:16,consts:[["slot","start"],["defaultHref","/",3,"click"],[1,"register-form"],[3,"formGroup"],["position","floating"],["type","text","formControlName","nombre","name","nombre",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],[1,"photo-item"],["expand","full",1,"custom-button",3,"click"],["name","camera",1,"camera-icon"],["size","3",1,"photo-col"],[1,"photo-img",3,"src"],["type","email","formControlName","email","name","email",3,"ngModel","ngModelChange"],["type","password","formControlName","password","name","password",3,"ngModel","ngModelChange"],["type","text","formControlName","carrera","name","carrera",3,"ngModel","ngModelChange"],["type","text","formControlName","rut","name","rut",3,"ngModel","ngModelChange"],["displayFormat","MMMM DD, YYYY","formControlName","fechaNacimiento","name","fechaNacimiento",3,"ngModel","ngModelChange"],[1,"custom-item"],["position","floating",1,"custom-label"],["formControlName","idRegion","name","idRegion","placeholder","Seleccione",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],["class","custom-item",4,"ngIf"],["expand","block","fill","clear","color","success","type","submit",1,"ion-margin-top",3,"click"],["color","danger"],[3,"value"],["formControlName","idComuna","name","idComuna","placeholder","Seleccione",1,"custom-select"]],template:function(l,c){if(1&l&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),n.NdJ("click",function(){return c.goBack()}),n.qZA()(),n.TgZ(4,"ion-title"),n._uU(5,"Registro"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"div",2)(8,"form",3)(9,"ion-item")(10,"ion-label",4),n._uU(11,"Nombre Completo"),n.qZA(),n.TgZ(12,"ion-input",5),n.NdJ("ngModelChange",function(m){return c.nombre=m}),n.qZA(),n.YNc(13,X,2,0,"ion-text",6),n.qZA(),n.TgZ(14,"ion-item",7)(15,"ion-button",8),n.NdJ("click",function(){return c.addPhotoToGallery()}),n._UZ(16,"ion-icon",9),n._uU(17," Foto estudiante "),n.qZA(),n.TgZ(18,"ion-col",10),n._UZ(19,"ion-img",11),n.qZA()(),n.TgZ(20,"ion-item")(21,"ion-label",4),n._uU(22,"Correo electr\xf3nico"),n.qZA(),n.TgZ(23,"ion-input",12),n.NdJ("ngModelChange",function(m){return c.email=m}),n.qZA(),n.YNc(24,fe,2,0,"ion-text",6),n.qZA(),n.TgZ(25,"ion-item")(26,"ion-label",4),n._uU(27,"Contrase\xf1a"),n.qZA(),n.TgZ(28,"ion-input",13),n.NdJ("ngModelChange",function(m){return c.password=m}),n.qZA(),n.YNc(29,V,2,0,"ion-text",6),n.qZA(),n.TgZ(30,"ion-item")(31,"ion-label",4),n._uU(32,"Carrera"),n.qZA(),n.TgZ(33,"ion-input",14),n.NdJ("ngModelChange",function(m){return c.carrera=m}),n.qZA(),n.YNc(34,ee,2,0,"ion-text",6),n.qZA(),n.TgZ(35,"ion-item")(36,"ion-label",4),n._uU(37,"RUT"),n.qZA(),n.TgZ(38,"ion-input",15),n.NdJ("ngModelChange",function(m){return c.rut=m}),n.qZA(),n.YNc(39,$e,2,0,"ion-text",6),n.qZA(),n.TgZ(40,"ion-item")(41,"ion-label",4),n._uU(42,"Fecha de nacimiento"),n.qZA(),n.TgZ(43,"ion-datetime",16),n.NdJ("ngModelChange",function(m){return c.fechaNacimiento=m}),n.qZA()(),n._UZ(44,"br"),n.TgZ(45,"ion-item",17)(46,"ion-label",18),n._uU(47,"Regi\xf3n"),n.qZA(),n.TgZ(48,"ion-select",19),n.YNc(49,me,2,2,"ion-select-option",20),n.qZA(),n._UZ(50,"br"),n.YNc(51,pe,2,0,"ion-text",6),n.qZA(),n.YNc(52,he,7,2,"ion-item",21),n.TgZ(53,"ion-button",22),n.NdJ("click",function(){return c.guardar()}),n._uU(54,"Registrarse"),n.qZA()()()()),2&l){let h,m,b,M,U,w,O;n.xp6(8),n.Q6J("formGroup",c.registerForm),n.xp6(4),n.Q6J("ngModel",c.nombre),n.xp6(1),n.Q6J("ngIf",(null==(h=c.registerForm.get("nombre"))?null:h.invalid)&&(null==(h=c.registerForm.get("nombre"))?null:h.touched)),n.xp6(6),n.Q6J("src",null==c.photoService.photo?null:c.photoService.photo.webviewPath),n.xp6(4),n.Q6J("ngModel",c.email),n.xp6(1),n.Q6J("ngIf",(null==(m=c.registerForm.get("email"))?null:m.invalid)&&(null==(m=c.registerForm.get("email"))?null:m.touched)),n.xp6(4),n.Q6J("ngModel",c.password),n.xp6(1),n.Q6J("ngIf",(null==(b=c.registerForm.get("password"))?null:b.invalid)&&(null==(b=c.registerForm.get("password"))?null:b.touched)),n.xp6(4),n.Q6J("ngModel",c.carrera),n.xp6(1),n.Q6J("ngIf",(null==(M=c.registerForm.get("carrera"))?null:M.invalid)&&(null==(M=c.registerForm.get("carrera"))?null:M.touched)),n.xp6(4),n.Q6J("ngModel",c.rut),n.xp6(1),n.Q6J("ngIf",(null==(U=c.registerForm.get("rut"))?null:U.invalid)&&(null==(U=c.registerForm.get("rut"))?null:U.touched)),n.xp6(4),n.Q6J("ngModel",c.fechaNacimiento),n.xp6(6),n.Q6J("ngForOf",c.regiones),n.xp6(2),n.Q6J("ngIf",(null==(w=c.registerForm.get("idRegion"))?null:w.invalid)&&(null==(w=c.registerForm.get("idRegion"))?null:w.touched)),n.xp6(1),n.Q6J("ngIf",null==(O=c.registerForm.get("idRegion"))?null:O.value)}},dependencies:[Z.sg,Z.O5,v._Y,v.JJ,v.JL,p.YG,p.Sm,p.wI,p.W2,p.x4,p.Gu,p.gu,p.Xz,p.pK,p.Ie,p.Q$,p.t9,p.n0,p.yW,p.wd,p.sr,p.QI,p.j9,p.oU,v.sg,v.u],styles:['@charset "UTF-8";.register-form[_ngcontent-%COMP%]{max-width:500px;margin:50px auto;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a}[type=submit][_ngcontent-%COMP%]{--background: #0f5f1a;--color: #ffffff;--border-radius: 5px;text-transform:uppercase}.custom-item[_ngcontent-%COMP%]{margin-bottom:15px}.custom-label[_ngcontent-%COMP%]{font-size:16px}.custom-select[_ngcontent-%COMP%]{width:100%}.photo-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.custom-button[_ngcontent-%COMP%]{margin-top:10px;background-color:#3880ff;color:#fff}.camera-icon[_ngcontent-%COMP%]{margin-right:8px}.photo-col[_ngcontent-%COMP%]{margin-top:10px}.photo-img[_ngcontent-%COMP%]{width:100%;max-height:200px;object-fit:cover;border-radius:8px}']}),P})()}];let z=(()=>{var f;class P{}return(f=P).\u0275fac=function(l){return new(l||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({imports:[y.Bz.forChild(oe),y.Bz]}),P})(),se=(()=>{var f;class P{}return(f=P).\u0275fac=function(l){return new(l||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({providers:[E.f],imports:[Z.ez,v.u5,p.Pc,z,v.UX]}),P})()},5899:(q,L,$)=>{var Z={"./pwa-action-sheet.entry.js":[1120,1120],"./pwa-camera-modal-instance.entry.js":[4995,4995],"./pwa-camera-modal.entry.js":[7324,7324],"./pwa-camera.entry.js":[6390,6390],"./pwa-toast.entry.js":[2813,2813]};function v(E){if(!$.o(Z,E))return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+E+"'");throw A.code="MODULE_NOT_FOUND",A});var p=Z[E],y=p[0];return $.e(p[1]).then(()=>$(y))}v.keys=()=>Object.keys(Z),v.id=5899,q.exports=v}}]);